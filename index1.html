<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ultimate Ads Bot</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --primary: #0088cc; --bg: #0e1621; --card: #17212b; --accent: #fbbf24; --success: #2ed573; --danger: #ff4757; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: var(--bg); color: white; overflow: hidden; padding-bottom: 80px; }
        
        /* Full Screen In-App Ad Player */
        #ad-view { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 99999; flex-direction: column; }
        #ad-frame { width: 100%; height: 100%; border: none; flex-grow: 1; }
        .ad-header { background: #17212b; padding: 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
        .timer-box { color: var(--accent); font-weight: bold; font-size: 16px; border: 1px solid var(--accent); padding: 5px 15px; border-radius: 20px; }
        .collect-btn { background: var(--success); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; display: none; animation: pulse 1.5s infinite; }
        
        @keyframes pulse { 0% {transform: scale(1);} 50% {transform: scale(1.05);} 100% {transform: scale(1);} }

        /* General UI */
        .header { padding: 25px; text-align: center; background: linear-gradient(to bottom, #1c2733, var(--bg)); }
        .balance-box { background: var(--card); padding: 20px; border-radius: 20px; border: 1px solid #242f3d; margin-top: 15px; }
        .balance-val { font-size: 35px; color: var(--accent); font-weight: bold; }
        .content { padding: 20px; height: calc(100vh - 220px); overflow-y: auto; }
        .page { display: none; }
        .page.active { display: block; }
        .task-card { background: var(--card); padding: 15px; border-radius: 15px; margin-bottom: 15px; border: 1px solid #242f3d; transition: 0.3s; }
        .btn { padding: 12px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; color: white; background: var(--primary); width: 100%; margin-top: 10px; }
        
        .nav-bar { position: fixed; bottom: 0; width: 100%; height: 80px; background: var(--card); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #242f3d; }
        .nav-item { color: #8e99a2; font-size: 11px; text-align: center; flex: 1; cursor: pointer; }
        .nav-item.active { color: var(--primary); border-top: 3px solid var(--primary); padding-top: 5px; }
        textarea, input { width: 100%; padding: 12px; background: #0e1621; border: 1px solid #2b3949; color: white; border-radius: 8px; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="ad-view">
        <div class="ad-header">
            <div id="timer-text" class="timer-box">‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®: 15s</div>
            <button id="collect-btn" class="collect-btn" onclick="rewardUser()">‡¶¨‡ßã‡¶®‡¶æ‡¶∏ ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        </div>
        <iframe id="ad-frame" src=""></iframe>
    </div>

    <div class="header">
        <h3 id="user-name">Welcome</h3>
        <div class="balance-box">
            <p style="color: #8e99a2; font-size: 13px;">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏</p>
            <div class="balance-val" id="balance">‡ß≥ 0.00</div>
        </div>
    </div>

    <div class="content">
        <div id="task" class="page active">
            <div class="task-card">
                <div style="display:flex; justify-content:space-between"><h4>Premium Ad</h4><b style="color:var(--success)">‡ß≥‡ß´</b></div>
                <button class="btn" onclick="startInAppAd()">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® (‡¶á‡¶®-‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™)</button>
            </div>
            
            <div class="task-card" id="yt-sec">
                <div style="display:flex; justify-content:space-between"><h4>YouTube Subscription</h4><b style="color:var(--success)">‡ß≥‡ß´‡ß¶</b></div>
                <p style="font-size: 11px; color:#8e99a2; margin-top:5px;">‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶æ‡¶á‡¶¨ ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶® ‡¶π‡¶¨‡ßá‡•§</p>
                <button class="btn" style="background:#ff0000" onclick="handleSocial('https://www.youtube.com/@arshoppingmalls', 'yt')">Subscribe Now</button>
                <button id="yt-v" class="btn" style="background:var(--accent); color:black; display:none;" onclick="verifyTask('yt', 50)">‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>

            <div class="task-card" id="fb-sec">
                <div style="display:flex; justify-content:space-between"><h4>Facebook Follow</h4><b style="color:var(--success)">‡ß≥‡ß©‡ß¶</b></div>
                <button class="btn" style="background:#1877f2" onclick="handleSocial('https://www.facebook.com/profile.php?id=61585605224547', 'fb')">Follow Page</button>
                <button id="fb-v" class="btn" style="background:var(--accent); color:black; display:none;" onclick="verifyTask('fb', 30)">‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>

        <div id="withdraw" class="page">
            <div class="task-card">
                <h4>‡¶ü‡¶æ‡¶ï‡¶æ ‡¶â‡¶§‡ßç‡¶§‡ßã‡¶≤‡¶®</h4>
                <p style="font-size: 12px; color:var(--danger); margin: 10px 0;">* ‡¶∏‡¶∞‡ßç‡¶¨‡¶®‡¶ø‡¶Æ‡ßç‡¶® ‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ì ‡ßß‡ß¶‡¶ü‡¶ø ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶≤‡¶æ‡¶ó‡¶¨‡ßá‡•§</p>
                <input type="number" id="w-amount" placeholder="‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£">
                <textarea id="w-refs" rows="3" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡ßß‡ß¶ ‡¶ú‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ/‡¶Ü‡¶á‡¶°‡¶ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡¶ø‡¶®..."></textarea>
                <button class="btn" onclick="processWithdraw()">‡¶â‡¶á‡¶•‡¶°‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
            </div>
        </div>
    </div>

    <nav class="nav-bar">
        <div class="nav-item active" onclick="showPage('task', this)">üéØ Tasks</div>
        <div class="nav-item" onclick="showPage('withdraw', this)">üí∞ Withdraw</div>
    </nav>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        // Local Database (‡¶è‡¶ü‡¶ø‡¶ï‡ßá ‡¶™‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶á‡¶® ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶ú‡ßá ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®)
        let db = JSON.parse(localStorage.getItem('ads_pro_db_v1')) || { balance: 0, yt: false, fb: false };

        function updateUI() {
            document.getElementById('balance').innerText = "‡ß≥ " + db.balance.toFixed(2);
            if(db.yt) document.getElementById('yt-sec').style.opacity = '0.5';
            if(db.fb) document.getElementById('fb-sec').style.opacity = '0.5';
            localStorage.setItem('ads_pro_db_v1', JSON.stringify(db));
        }

        function showPage(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
        }

        // --- In-App Ad Logic ---
        function startInAppAd() {
            const adURL = "https://otieu.com/4/10557505";
            document.getElementById('ad-frame').src = adURL;
            document.getElementById('ad-view').style.display = 'flex';
            document.getElementById('collect-btn').style.display = 'none';
            document.getElementById('timer-text').style.display = 'block';

            let timeLeft = 15;
            let adTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer-text').innerText = "‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®: " + timeLeft + "s";
                if(timeLeft <= 0) {
                    clearInterval(adTimer);
                    document.getElementById('timer-text').style.display = 'none';
                    document.getElementById('collect-btn').style.display = 'block';
                }
            }, 1000);
        }

        function rewardUser() {
            db.balance += 5;
            updateUI();
            document.getElementById('ad-view').style.display = 'none';
            document.getElementById('ad-frame').src = "";
            tg.showConfirm("‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡ß´ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§");
        }

        // --- Social Task Logic with Manual Database Entry Simulation ---
        function handleSocial(url, type) {
            tg.openLink(url);
            // ‡ßß‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶æ‡¶á ‡¶¨‡¶æ‡¶ü‡¶® ‡¶Ü‡¶∏‡¶¨‡ßá ‡¶Ø‡¶æ‡¶§‡ßá ‡¶∏‡ßá ‡¶∏‡¶§‡ßç‡¶Ø‡¶ø ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶Ø‡¶æ‡ßü
            setTimeout(() => {
                document.getElementById(type + '-v').style.display = 'block';
            }, 10000);
        }

        function verifyTask(type, reward) {
            // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶ú ‡¶ö‡ßá‡¶ï‡¶ø‡¶Ç ‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶´‡ßá‡¶ï ‡¶°‡¶ø‡¶≤‡ßá (Delay) ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá
            tg.showPopup({
                title: '‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶®',
                message: '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶® ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶ú‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡ß® ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü ‡¶™‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
                buttons: [{type: 'ok'}]
            });

            setTimeout(() => {
                db.balance += reward;
                if(type === 'yt') db.yt = true; else db.fb = true;
                updateUI();
                tg.showAlert("‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶∏‡¶´‡¶≤! ‡ß≥" + reward + " ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§");
            }, 5000); // ‡¶è‡¶ü‡¶ø ‡ß´ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶Ö‡¶ü‡ßã ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶ö‡ßç‡¶õ‡ßá, ‡¶Ø‡¶æ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡¶∞‡ßá ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶≤‡¶ø ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§
        }

        function processWithdraw() {
            let amt = document.getElementById('w-amount').value;
            let refs = document.getElementById('w-refs').value;
            if(db.balance < 500) return alert("‡¶¨‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶∏ ‡ß´‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶®‡ßá‡¶á!");
            if(refs.length < 20) return alert("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡ßß‡ß¶ ‡¶ú‡¶® ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶∞ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ ‡¶¶‡¶ø‡¶®!");
            
            alert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡¶ü‡¶ø ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶ú‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡ßß-‡ßß‡ß® ‡¶ò‡¶£‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡¶¨‡ßá‡•§");
            db.balance -= parseFloat(amt);
            updateUI();
        }

        updateUI();
        if(tg.initDataUnsafe.user) document.getElementById('user-name').innerText = "‡¶π‡ßç‡¶Ø‡¶æ‡¶≤‡ßã, " + tg.initDataUnsafe.user.first_name;
    </script>
</body>
</html>
